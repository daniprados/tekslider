// TekSlider by comunicatek.com  under the mit license.
// Author:  Dani Prados
// http://code.comunicatek.com

(function(c){function p(a){c.fn.TekSlider.opts.touch?u.append(a+"<br />"):window.console&&window.console.log&&window.console.log("tekslider : "+a)}var u=c("body"),t,s;t=function(a){function b(){window.clearInterval(m);return this}function q(){var d;d=i*g.timer/1E3;n=f-g.accel*d;i+=1;n<g.stopthreshold?b():(d=j+(f*d-g.accel*d*d/2)*h,0<d&&(d=0,b()),d<-e&&(d=-e,b()),l.css("left",d))}var i=0,f,n,m,j,h,e,l,o={accel:190,maxvel:250,threshold:10,stopthreshold:3,timer:15},g=c.extend({},o,a);p(" Start acceleration ");
return{stop:b,start:function(d,b,a){i=0;e=a;l=d.jquery?d:c(d);0>b?(h=-1,f=-1*b):(h=1,f=b);f=f<g.maxvel?f:g.maxvel;f>g.threshold&&(j=parseInt(l.css("left"),10),m=window.setInterval(q,g.timer));return this},config:function(d){g=c.extend({},o,d)}}};s=function(a,b){function q(b){var a=b.originalEvent;d=c.now();b.preventDefault();b=b.clientX||a.targetTouches[0].clientX;a=n+b-f;m=b-f;0<a&&(a=0);a<-h&&(a=-h);e.css("left",a)}function i(){var a,f;f=m;n=parseInt(e.css("left"),10);d=c.now();j=(d-g)/1E3;p(" Desp : "+
f+" T: "+j);0.1<j&&o.animation&&(a=f/j,20<Math.abs(f)&&(p("accel"),l.start(e,a,h)));e.unbind(k[b].move,q);k[b].out&&e.unbind(k[b].out,i)}var f,n,m=0,j,h,e,l,o=c.fn.TekSlider.opts,g,d,k={mouse:{on:"mousedown",off:"mouseup",move:"mousemove",out:"mouseout"},touch:{on:"touchstart",off:"touchend",move:"touchmove"}},r;e=a.jquery?a:c(a);l=t(o.accelerator);e.bind(k[b].on,function(a){var d=a.originalEvent;f=a.clientX||d.targetTouches[0].clientX;m=0;l.stop();j=0;g=c.now();n=parseInt(e.css("left"),10);e.bind(k[b].move,
q);k[b].out&&e.bind(k[b].out,i)}).bind(k[b].off,i);h=e.children("div").last().position().left;r=e.parent().outerWidth();c(window).load(function(){h=e.children("div").last().position().left;r=e.parent().outerWidth();r>h&&(r=0)})};c.fn.TekSlider=function(a){var b=c.fn.TekSlider.opts=c.extend({},c.fn.TekSlider.defaults,a);p("mobile "+b.touch);return this.each(function(a,c){b.touch?s(c,"touch"):s(c,"mouse")})};c.fn.TekSlider.config=function(a){c.fn.TekSlider.opts=c.extend({},c.fn.TekSlider.defaults,a)};
c.fn.TekSlider.defaults={animation:!1,touch:!0,accelerator:{}}})(jQuery);